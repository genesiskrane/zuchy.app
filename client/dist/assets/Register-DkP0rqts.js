import{_ as W,u as Y,r as G,h as V,g as C,d as P,b as s,w as a,a as p,i as J,o as B,f as i,e as N,j,n as z,t as F}from"./index-jaROdxE3.js";function K(k){if(typeof k!="string")throw new TypeError("Expected a string");return k.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const M=[{id:0,value:"Too weak",minDiversity:0,minLength:0},{id:1,value:"Weak",minDiversity:2,minLength:8},{id:2,value:"Medium",minDiversity:4,minLength:10},{id:3,value:"Strong",minDiversity:4,minLength:12}],Q="!\"#$%&'()*+,-./\\:;<=>?@[]^_`{|}~",X=(k,g=M,w)=>{g[0].minDiversity=0,g[0].minLength=0;const t=k??"",n=[{key:"lowercase",regex:"[a-z]"},{key:"uppercase",regex:"[A-Z]"},{key:"number",regex:"[0-9]"},{key:"symbol",regex:w?`[${K(w)}]`:"[^a-zA-Z0-9]"}];let m={};m.contains=n.filter(o=>new RegExp(`${o.regex}`).test(t)).map(o=>o.key),m.length=t.length;let b=g.filter(o=>m.contains.length>=o.minDiversity).filter(o=>m.length>=o.minLength).sort((o,c)=>c.id-o.id).map(o=>({id:o.id,value:o.value}));return Object.assign(m,b[0]),m};var _={passwordStrength:X,defaultOptions:M,owaspSymbols:Q};const h={class:"h-screen w-full d-flex justify-center"},ee={class:"w-full pa-4"},re={class:"text-xs"},oe={class:"text-sm text-center mb-4"},se={class:"text-xs"},te={class:"text-sm text-center mb-4"},ne={__name:"Register",setup(k){J();const g=Y(),w=G("customer"),t=V({name:"",email:"",password:"",confirmPassword:"",agree:!1}),n=V({name:"",email:"",password:"",confirmPassword:"",agree:!1}),m=V({customer:{password:!0,confirmPassword:!0},vendor:{password:!0,confirmPassword:!0}});function b(l){const[e,u]=l.split(".");m[e][u]=!m[e][u]}const o=V({customer:{name:"",email:"",password:"",confirmPassword:""},vendor:{name:"",email:"",password:"",confirmPassword:""}}),c=V({customer:{name:!1,email:!1,password:!1,confirmPassword:!1,agree:!1},vendor:{name:!1,email:!1,password:!1,confirmPassword:!1,agree:!1}}),y=V({customer:"",vendor:""});function I(l){return _.passwordStrength(l).value}function U(l){switch(l){case"Too weak":return"red";case"Weak":return"orange";case"Medium":return"goldenrod";case"Strong":return"green";default:return"gray"}}function q(l){return/\S+@\S+\.\S+/.test(l)}function f(l,e,u){c[w.value][e]=!0;const v=l[e];let d="";e==="name"?d=v?"":"Name is required":e==="email"?d=v?q(v)?"":"Invalid email":"Email is required":e==="password"?d=v.length<6?"Minimum 6 characters":"":e==="confirmPassword"?d=v!==l.password?"Passwords do not match":"":e==="agree"&&(d=v?"":"You must agree to the terms"),u[e]=d}function $(l,e,u){return Object.keys(l).every(d=>u[d]&&!T(l,d))}function T(l,e){const u=l[e];return e==="name"?!u:e==="email"?!u||!q(u):e==="password"?u.length<6:e==="confirmPassword"?u!==l.password:e==="agree"?!u:!1}async function O(){$(t,o.customer,c.customer)&&await g.registerCustomer(t)&&g.login(t.email,t.password)}async function Z(){$(n,o.vendor,c.vendor)&&await g.registerVendor(n)&&g.login(n.email,n.password)}return(l,e)=>{const u=p("v-tab"),v=p("v-tabs"),d=p("v-text-field"),E=p("v-checkbox"),S=p("v-col"),x=p("router-link"),A=p("v-row"),L=p("v-btn"),R=p("v-form"),D=p("v-window-item"),H=p("v-window");return B(),C("div",h,[P("div",ee,[e[46]||(e[46]=P("h2",{class:"text-2xl mb-4"},"Register",-1)),s(v,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=r=>w.value=r),class:"mb-12 custom-tab-slider","background-color":"transparent",color:"primary",grow:"",variant:"outlined"},{default:a(()=>[s(u,{value:"customer"},{default:a(()=>e[28]||(e[28]=[i("Customer")])),_:1}),s(u,{value:"vendor"},{default:a(()=>e[29]||(e[29]=[i("Vendor")])),_:1})]),_:1},8,["modelValue"]),s(H,{modelValue:w.value,"onUpdate:modelValue":e[27]||(e[27]=r=>w.value=r)},{default:a(()=>[s(D,{value:"customer"},{default:a(()=>[s(R,{onSubmit:N(O,["prevent"]),ref:"customerForm"},{default:a(()=>[s(d,{modelValue:t.name,"onUpdate:modelValue":e[1]||(e[1]=r=>t.name=r),label:"Name",key:"name",variant:"outlined",density:"comfortable","error-messages":o.customer.name,onBlur:e[2]||(e[2]=r=>f(t,"name",o.customer)),required:""},null,8,["modelValue","error-messages"]),s(d,{modelValue:t.email,"onUpdate:modelValue":e[3]||(e[3]=r=>t.email=r),label:"Email",variant:"outlined",density:"comfortable","error-messages":o.customer.email,onBlur:e[4]||(e[4]=r=>f(t,"email",o.customer)),required:""},null,8,["modelValue","error-messages"]),s(d,{modelValue:t.password,"onUpdate:modelValue":e[5]||(e[5]=r=>t.password=r),label:"Password",variant:"outlined",density:"comfortable",type:m.customer.password?"password":"text","append-inner-icon":m.customer.password?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[6]||(e[6]=r=>b("customer.password")),"error-messages":o.customer.password,onBlur:e[7]||(e[7]=r=>f(t,"password",o.customer)),onInput:e[8]||(e[8]=r=>y.customer=I(t.password)),required:""},null,8,["modelValue","type","append-inner-icon","error-messages"]),y.customer?(B(),C("small",{key:0,style:z({color:U(y.customer)})}," Strength: "+F(y.customer),5)):j("",!0),s(d,{modelValue:t.confirmPassword,"onUpdate:modelValue":e[9]||(e[9]=r=>t.confirmPassword=r),label:"Confirm Password",variant:"outlined",density:"comfortable",type:m.customer.confirmPassword?"password":"text","append-inner-icon":m.customer.confirmPassword?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[10]||(e[10]=r=>b("customer.confirmPassword")),"error-messages":o.customer.confirmPassword,onBlur:e[11]||(e[11]=r=>f(t,"confirmPassword",o.customer)),required:""},null,8,["modelValue","type","append-inner-icon","error-messages"]),s(A,{align:"center",class:"mb-4 px-2"},{default:a(()=>[s(S,{cols:"1",class:"d-flex justify-center px-2"},{default:a(()=>[s(E,{modelValue:t.agree,"onUpdate:modelValue":e[12]||(e[12]=r=>t.agree=r),"hide-details":"",density:"compact",class:"mt-0",ripple:!1,onInput:e[13]||(e[13]=r=>f(t,"agree",o.customer))},null,8,["modelValue"])]),_:1}),s(S,{cols:"11",class:"px-2"},{default:a(()=>[P("span",re,[e[32]||(e[32]=i(" I agree to Zuchy ")),s(x,{to:"/about/terms-of-service",class:"text-primary font-weight-medium"},{default:a(()=>e[30]||(e[30]=[i("Terms of Service")])),_:1}),e[33]||(e[33]=i(" and ")),s(x,{to:"/about/privacy-policy",class:"text-primary font-weight-medium"},{default:a(()=>e[31]||(e[31]=[i("Privacy Policy")])),_:1}),e[34]||(e[34]=i(". "))])]),_:1})]),_:1}),s(L,{type:"submit",color:"primary",block:"",class:"my-4",rounded:"xs",size:"large",disabled:!$(t,o.customer,c.customer)},{default:a(()=>e[35]||(e[35]=[i("Register as Customer")])),_:1},8,["disabled"]),P("p",oe,[e[37]||(e[37]=i(" Already Have An Account? ")),s(x,{to:"/auth/login",class:"text-primary font-weight-medium"},{default:a(()=>e[36]||(e[36]=[i("Login")])),_:1})])]),_:1},512)]),_:1}),s(D,{value:"vendor"},{default:a(()=>[s(R,{onSubmit:N(Z,["prevent"]),ref:"vendorForm"},{default:a(()=>[s(d,{modelValue:n.name,"onUpdate:modelValue":e[14]||(e[14]=r=>n.name=r),label:"Business Name",variant:"outlined",density:"comfortable","error-messages":o.vendor.name,onBlur:e[15]||(e[15]=r=>f(n,"name",o.vendor)),required:""},null,8,["modelValue","error-messages"]),s(d,{modelValue:n.email,"onUpdate:modelValue":e[16]||(e[16]=r=>n.email=r),label:"Email",variant:"outlined",density:"comfortable","error-messages":o.vendor.email,onBlur:e[17]||(e[17]=r=>f(n,"email",o.vendor)),required:""},null,8,["modelValue","error-messages"]),s(d,{modelValue:n.password,"onUpdate:modelValue":e[18]||(e[18]=r=>n.password=r),label:"Password",variant:"outlined",density:"comfortable",type:m.vendor.password?"password":"text","append-inner-icon":m.vendor.password?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[19]||(e[19]=r=>b("vendor.password")),"error-messages":o.vendor.password,onBlur:e[20]||(e[20]=r=>f(n,"password",o.vendor)),onInput:e[21]||(e[21]=r=>y.vendor=I(n.password)),required:""},null,8,["modelValue","type","append-inner-icon","error-messages"]),y.vendor?(B(),C("small",{key:0,style:z({color:U(y.vendor)})}," Strength: "+F(y.vendor),5)):j("",!0),s(d,{modelValue:n.confirmPassword,"onUpdate:modelValue":e[22]||(e[22]=r=>n.confirmPassword=r),label:"Confirm Password",variant:"outlined",density:"comfortable",type:m.vendor.confirmPassword?"password":"text","append-inner-icon":m.vendor.confirmPassword?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[23]||(e[23]=r=>b("vendor.confirmPassword")),"error-messages":o.vendor.confirmPassword,onBlur:e[24]||(e[24]=r=>f(n,"confirmPassword",o.vendor)),required:""},null,8,["modelValue","type","append-inner-icon","error-messages"]),s(A,{align:"center",class:"mb-4 px-2"},{default:a(()=>[s(S,{cols:"1",class:"d-flex justify-center px-2"},{default:a(()=>[s(E,{modelValue:n.agree,"onUpdate:modelValue":e[25]||(e[25]=r=>n.agree=r),"hide-details":"",density:"compact",class:"mt-0",ripple:!1,onInput:e[26]||(e[26]=r=>f(n,"agree",o.vendor))},null,8,["modelValue"])]),_:1}),s(S,{cols:"11",class:"px-2"},{default:a(()=>[P("span",se,[e[40]||(e[40]=i(" I agree to Zuchy ")),s(x,{to:"/about/terms-of-service",target:"_blank",class:"text-primary font-weight-medium"},{default:a(()=>e[38]||(e[38]=[i("Terms of Service")])),_:1}),e[41]||(e[41]=i(" and ")),s(x,{to:"/about/privacy-policy",target:"_blank",class:"text-primary font-weight-medium"},{default:a(()=>e[39]||(e[39]=[i("Privacy Policy")])),_:1}),e[42]||(e[42]=i(". "))])]),_:1})]),_:1}),s(L,{type:"submit",color:"primary",class:"my-4",rounded:"xs",size:"large",block:"",disabled:!$(n,o.vendor,c.vendor)},{default:a(()=>e[43]||(e[43]=[i("Register as Vendor")])),_:1},8,["disabled"]),P("p",te,[e[45]||(e[45]=i(" Already Have An Account? ")),s(x,{to:"/auth/login",class:"text-primary font-weight-medium"},{default:a(()=>e[44]||(e[44]=[i("Login")])),_:1})])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])])])}}},le=W(ne,[["__scopeId","data-v-1ac14ede"]]);export{le as default};
//# sourceMappingURL=Register-DkP0rqts.js.map
