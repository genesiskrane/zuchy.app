import{r as z,h as y,c as I,w as u,a as f,o as k,b as a,e as S,f as q,g as E,i as D,n as C,t as L}from"./index-BE2ITJHv.js";import{_ as T}from"./AuthWrapper-CLjbylLk.js";function j(V){if(typeof V!="string")throw new TypeError("Expected a string");return V.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const N=[{id:0,value:"Too weak",minDiversity:0,minLength:0},{id:1,value:"Weak",minDiversity:2,minLength:8},{id:2,value:"Medium",minDiversity:4,minLength:10},{id:3,value:"Strong",minDiversity:4,minLength:12}],A="!\"#$%&'()*+,-./\\:;<=>?@[]^_`{|}~",W=(V,p=N,o)=>{p[0].minDiversity=0,p[0].minLength=0;const n=V??"",s=[{key:"lowercase",regex:"[a-z]"},{key:"uppercase",regex:"[A-Z]"},{key:"number",regex:"[0-9]"},{key:"symbol",regex:o?`[${j(o)}]`:"[^a-zA-Z0-9]"}];let m={};m.contains=s.filter(l=>new RegExp(`${l.regex}`).test(n)).map(l=>l.key),m.length=n.length;let v=p.filter(l=>m.contains.length>=l.minDiversity).filter(l=>m.length>=l.minLength).sort((l,b)=>b.id-l.id).map(l=>({id:l.id,value:l.value}));return Object.assign(m,v[0]),m};var Z={passwordStrength:W,defaultOptions:N,owaspSymbols:A};const H={__name:"Register",setup(V){const p=z("user"),o=y({name:"",email:"",password:"",confirmPassword:""}),n=y({name:"",email:"",password:"",confirmPassword:""}),s=y({user:{name:"",email:"",password:"",confirmPassword:""},vendor:{name:"",email:"",password:"",confirmPassword:""}}),m=y({user:{name:!1,email:!1,password:!1,confirmPassword:!1},vendor:{name:!1,email:!1,password:!1,confirmPassword:!1}}),v=y({user:"",vendor:""});function l(d){return Z.passwordStrength(d).value}function b(d){switch(d){case"Too weak":return"red";case"Weak":return"orange";case"Medium":return"goldenrod";case"Strong":return"green";default:return"gray"}}function x(d){return/\S+@\S+\.\S+/.test(d)}function g(d,e,i){m[p.value][e]=!0;const w=d[e];let t="";e==="name"?t=w?"":"Name is required":e==="email"?t=w?x(w)?"":"Invalid email":"Email is required":e==="password"?t=w.length<6?"Minimum 6 characters":"":e==="confirmPassword"&&(t=w!==d.password?"Passwords do not match":""),i[e]=t}function P(d,e,i){return Object.keys(d).every(t=>i[t]&&!R(d,t))}function R(d,e){const i=d[e];return e==="name"?!i:e==="email"?!i||!x(i):e==="password"?i.length<6:e==="confirmPassword"?i!==d.password:!1}function F(){P(o,s.user,m.user)&&console.log("User registered",o)}function M(){P(n,s.vendor,m.vendor)&&console.log("Vendor registered",n)}return(d,e)=>{const i=f("v-tab"),w=f("v-tabs"),t=f("v-text-field"),$=f("v-btn"),U=f("v-form"),B=f("v-window-item"),O=f("v-window");return k(),I(T,{title:"Register"},{default:u(()=>[a(w,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=r=>p.value=r),grow:""},{default:u(()=>[a(i,{value:"user"},{default:u(()=>e[20]||(e[20]=[S("User")])),_:1}),a(i,{value:"vendor"},{default:u(()=>e[21]||(e[21]=[S("Vendor")])),_:1})]),_:1},8,["modelValue"]),a(O,{modelValue:p.value,"onUpdate:modelValue":e[19]||(e[19]=r=>p.value=r)},{default:u(()=>[a(B,{value:"user"},{default:u(()=>[a(U,{onSubmit:q(F,["prevent"]),ref:"userForm"},{default:u(()=>[a(t,{modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=r=>o.name=r),label:"Name",key:"name","error-messages":s.user.name,onBlur:e[2]||(e[2]=r=>g(o,"name",s.user)),required:""},null,8,["modelValue","error-messages"]),a(t,{modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=r=>o.email=r),label:"Email","error-messages":s.user.email,onBlur:e[4]||(e[4]=r=>g(o,"email",s.user)),required:""},null,8,["modelValue","error-messages"]),a(t,{modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=r=>o.password=r),label:"Password",type:"password","error-messages":s.user.password,onBlur:e[6]||(e[6]=r=>g(o,"password",s.user)),onInput:e[7]||(e[7]=r=>v.user=l(o.password)),required:""},null,8,["modelValue","error-messages"]),v.user?(k(),E("small",{key:0,style:C({color:b(v.user)})}," Strength: "+L(v.user),5)):D("",!0),a(t,{modelValue:o.confirmPassword,"onUpdate:modelValue":e[8]||(e[8]=r=>o.confirmPassword=r),label:"Confirm Password",type:"password","error-messages":s.user.confirmPassword,onBlur:e[9]||(e[9]=r=>g(o,"confirmPassword",s.user)),required:""},null,8,["modelValue","error-messages"]),a($,{type:"submit",color:"primary",class:"mt-3",disabled:!P(o,s.user,m.user)},{default:u(()=>e[22]||(e[22]=[S("Register as User")])),_:1},8,["disabled"])]),_:1},512)]),_:1}),a(B,{value:"vendor"},{default:u(()=>[a(U,{onSubmit:q(M,["prevent"]),ref:"vendorForm"},{default:u(()=>[a(t,{modelValue:n.name,"onUpdate:modelValue":e[10]||(e[10]=r=>n.name=r),label:"Business Name","error-messages":s.vendor.name,onBlur:e[11]||(e[11]=r=>g(n,"name",s.vendor)),required:""},null,8,["modelValue","error-messages"]),a(t,{modelValue:n.email,"onUpdate:modelValue":e[12]||(e[12]=r=>n.email=r),label:"Email","error-messages":s.vendor.email,onBlur:e[13]||(e[13]=r=>g(n,"email",s.vendor)),required:""},null,8,["modelValue","error-messages"]),a(t,{modelValue:n.password,"onUpdate:modelValue":e[14]||(e[14]=r=>n.password=r),label:"Password",type:"password","error-messages":s.vendor.password,onBlur:e[15]||(e[15]=r=>g(n,"password",s.vendor)),onInput:e[16]||(e[16]=r=>v.vendor=l(n.password)),required:""},null,8,["modelValue","error-messages"]),v.vendor?(k(),E("small",{key:0,style:C({color:b(v.vendor)})}," Strength: "+L(v.vendor),5)):D("",!0),a(t,{modelValue:n.confirmPassword,"onUpdate:modelValue":e[17]||(e[17]=r=>n.confirmPassword=r),label:"Confirm Password",type:"password","error-messages":s.vendor.confirmPassword,onBlur:e[18]||(e[18]=r=>g(n,"confirmPassword",s.vendor)),required:""},null,8,["modelValue","error-messages"]),a($,{type:"submit",color:"primary",class:"mt-3",disabled:!P(n,s.vendor,m.vendor)},{default:u(()=>e[23]||(e[23]=[S("Register as Vendor")])),_:1},8,["disabled"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{H as default};
